<ion-menu contentId="content">

	<ion-header>
		<ion-toolbar color="light">
			<ion-title>Menu</ion-title>
		</ion-toolbar>
	</ion-header>

	<ion-content>

		<div *ngIf="!logged">
			<div *ngFor="let p of out_pages">
			<!-- Standard Menu Item -->
			<ion-menu-toggle *ngIf="p.url && !p.click">
				<ion-item [routerLink]="p.url" routerDirection="root" routerLinkActive="active" *ngIf="!p.external">
					<ion-icon [name]="p.icon" slot="start"></ion-icon>
					<ion-label>
						{{ p.title }}
					</ion-label>
				</ion-item>
			</ion-menu-toggle>

			<ion-menu-toggle *ngIf="p.click">
				<ion-item  [routerLink]="p.url" routerDirection="root" routerLinkActive="active" (click)="logout()"  *ngIf="!p.external">
					<ion-icon [name]="p.icon" slot="start"></ion-icon>
					<ion-label>
						{{ p.title }}
					</ion-label>
				</ion-item>
			</ion-menu-toggle>
			<!-- Item with Children -->

			<ion-item button *ngIf="p.children?.length > 0" (click)="p.open = !p.open" [class.parent-active]="p.open" detail="false">
				<ion-icon slot="start" name="arrow-forward" *ngIf="!p.open"></ion-icon>
				<ion-icon slot="start" name="arrow-down" *ngIf="p.open"></ion-icon>
				<ion-label>{{ p.title }}</ion-label>
			</ion-item>

			<!-- Children List for clicked Item -->
			<ion-list *ngIf="p.open">
				<ion-menu-toggle>
					<div *ngFor="let sub of p.children">
						<ion-item button class="sub-item" (click)="OpenUrl(sub.url)">
							<ion-label>
								{{ sub.title }}
							</ion-label>
						</ion-item>
					</div>
				</ion-menu-toggle>
			</ion-list>
		</div>
	</div>

	<div *ngIf="logged">
		<div *ngFor="let p of logged_pages">
			<!-- Standard Menu Item -->
			<ion-menu-toggle *ngIf="p.url && !p.click">
				<ion-item [routerLink]="p.url" routerDirection="root" routerLinkActive="active" *ngIf="!p.external">
					<ion-icon [name]="p.icon" slot="start"></ion-icon>
					<ion-label>
						{{ p.title }}
					</ion-label>
				</ion-item>
			</ion-menu-toggle>

			<ion-menu-toggle *ngIf="p.click">
				<ion-item  [routerLink]="p.url" routerDirection="root" routerLinkActive="active" (click)="logout()"  *ngIf="!p.external">
					<ion-icon [name]="p.icon" slot="start"></ion-icon>
					<ion-label>
						{{ p.title }}
					</ion-label>
				</ion-item>
			</ion-menu-toggle>
			<!-- Item with Children -->

			<ion-item button *ngIf="p.children?.length > 0" (click)="p.open = !p.open" [class.parent-active]="p.open" detail="false">
				<ion-icon slot="start" name="arrow-forward" *ngIf="!p.open"></ion-icon>
				<ion-icon slot="start" name="arrow-down" *ngIf="p.open"></ion-icon>
				<ion-label>{{ p.title }}</ion-label>
			</ion-item>

			<!-- Children List for clicked Item -->
			<ion-list *ngIf="p.open">
				<ion-menu-toggle>
					<div *ngFor="let sub of p.children">
						<ion-item button class="sub-item" (click)="OpenUrl(sub.url)">
							<ion-label>
								{{ sub.title }}
							</ion-label>
						</ion-item>
					</div>
				</ion-menu-toggle>
			</ion-list>
		</div>
	</div>
</ion-content>

</ion-menu>

<ion-router-outlet id="content" main></ion-router-outlet>
